# Example Configuration for Ambient Sound Synthesizer

# This integration is configured via the Home Assistant UI.
# Go to Settings -> Devices & Services -> Add Integration
# Search for "Ambient Sound Synthesizer"

# However, you can create automations and scripts in configuration.yaml
# Here are some examples:

# Example 1: Simple automation to generate rain sound
automation:
  - alias: "Generate Rain Sound"
    trigger:
      - platform: time
        at: "20:00:00"
    action:
      - service: ambient_sound_synthesizer.generate_sound
        data:
          sound_type: rain
          intensity: medium
          duration: 1800  # 30 minutes
          filename: evening_rain

# Example 2: Script with input_selects for user control
input_select:
  ambient_sound_type:
    name: Ambient Sound Type
    options:
      - white
      - pink
      - brown
      - rain
      - wind
      - fan
    initial: rain
    icon: mdi:music-note

  ambient_sound_intensity:
    name: Ambient Sound Intensity
    options:
      - low
      - medium
      - high
    initial: medium
    icon: mdi:volume-high

input_number:
  ambient_sound_duration:
    name: Duration (minutes)
    min: 1
    max: 60
    step: 1
    initial: 30
    unit_of_measurement: min
    icon: mdi:timer

script:
  generate_ambient_sound:
    alias: Generate Ambient Sound
    sequence:
      - service: ambient_sound_synthesizer.generate_sound
        data:
          sound_type: "{{ states('input_select.ambient_sound_type') }}"
          intensity: "{{ states('input_select.ambient_sound_intensity') }}"
          duration: "{{ (states('input_number.ambient_sound_duration') | int) * 60 }}"
          filename: "ambient_{{ states('input_select.ambient_sound_type') }}_{{ now().strftime('%Y%m%d_%H%M%S') }}"
      - service: persistent_notification.create
        data:
          title: "Ambient Sound Generated"
          message: "Your {{ states('input_select.ambient_sound_type') }} sound has been generated!"

# Example 3: Complete bedtime routine with sound generation and playback
automation:
  - alias: "Bedtime Routine with Ambient Sound"
    trigger:
      - platform: time
        at: "22:00:00"
    action:
      # Generate the sound
      - service: ambient_sound_synthesizer.generate_sound
        data:
          sound_type: rain
          intensity: low
          duration: 28800  # 8 hours
          filename: sleep_rain
      
      # Wait for generation to complete
      - delay: "00:00:15"
      
      # Turn off lights
      - service: light.turn_off
        target:
          entity_id: light.bedroom
        data:
          transition: 30
      
      # Play the generated sound
      - service: media_player.play_media
        target:
          entity_id: media_player.bedroom_speaker
        data:
          media_content_type: music
          media_content_id: "http://homeassistant.local:8123/local/ambient_sounds/sleep_rain.wav"
      
      # Set volume
      - service: media_player.volume_set
        target:
          entity_id: media_player.bedroom_speaker
        data:
          volume_level: 0.3

# Example 4: Generate different sounds based on time of day
automation:
  - alias: "Generate Time-based Ambient Sounds"
    trigger:
      - platform: time
        at: "07:00:00"
        id: morning
      - platform: time
        at: "14:00:00"
        id: afternoon
      - platform: time
        at: "20:00:00"
        id: evening
    action:
      - choose:
          - conditions:
              - condition: trigger
                id: morning
            sequence:
              - service: ambient_sound_synthesizer.generate_sound
                data:
                  sound_type: wind
                  intensity: low
                  duration: 600
                  filename: morning_wind
          
          - conditions:
              - condition: trigger
                id: afternoon
            sequence:
              - service: ambient_sound_synthesizer.generate_sound
                data:
                  sound_type: fan
                  intensity: medium
                  duration: 1200
                  filename: afternoon_fan
          
          - conditions:
              - condition: trigger
                id: evening
            sequence:
              - service: ambient_sound_synthesizer.generate_sound
                data:
                  sound_type: rain
                  intensity: medium
                  duration: 1800
                  filename: evening_rain
